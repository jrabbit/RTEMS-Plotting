<html>
  <head>
        <script src="http://api.simile-widgets.org/timeplot/1.1/timeplot-api.js" 
       type="text/javascript"></script>
    
  </head>
  <script>
  var timeplot;

  function onLoad() {
    var eventSource = new Timeplot.DefaultEventSource();
    var plotInfo = [
      Timeplot.createPlotInfo({
        id: "plot1",
        dataSource: new Timeplot.ColumnSource(eventSource,1)
      })
    ];

    timeplot = Timeplot.create(document.getElementById("my-timeplot"), plotInfo);
    timeplot.loadText("data.txt", ",", eventSource);
  }

  var resizeTimerID = null;
  function onResize() {
      if (resizeTimerID == null) {
          resizeTimerID = window.setTimeout(function() {
              resizeTimerID = null;
              timeplot.repaint();
          }, 100);
      }
  }
  
  </script>
  <body onload="onLoad();" onresize="onResize();">
      <div id="my-timeplot" style="height: 150px;"></div>
  </body>
</html>